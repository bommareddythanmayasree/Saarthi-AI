{% extends "base.html" %}

{% block title %}SaarthiAI - Student Information{% endblock %}

{% block content %}
<div class="form-screen">
    <div class="form-header">
        <div class="form-logo">
            <img src="{{ url_for('static', filename='images/saarthi-logo.png') }}" alt="Saarthi AI Logo" class="form-logo-image">
        </div>
        <h1 id="formTitle">Student Information Form</h1>
        <p id="formSubtitle">Fill in your details to discover opportunities you might be missing.</p>
    </div>
    
    <div class="form-container">
        <div class="form-progress">
            <div class="progress-indicator">
                <div class="progress-step" id="progressStep"></div>
                <span class="progress-text" id="progressText"></span>
            </div>
            <div class="progress-bar-container">
                <div class="progress-bar-fill" id="progressBar"></div>
            </div>
        </div>
        
        <form id="studentForm" class="student-form">
            <!-- Step 1: Basic & Academic Information -->
            <div id="step1" class="form-step active">
        <div class="form-section">
            <div class="section-header">
                <svg class="section-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                </svg>
                <h2>Basic Details</h2>
            </div>
            
            <div class="form-group">
                <label for="name">Full Name <span class="required">*</span></label>
                <input type="text" id="name" name="name" placeholder="John Doe" required>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="age">Age <span class="required">*</span></label>
                    <input type="number" id="age" name="age" placeholder="21" min="1" max="100" required>
                </div>
                
                <div class="form-group">
                    <label for="gender">Gender</label>
                    <select id="gender" name="gender">
                        <option value="">Select Gender</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Other">Other</option>
                        <option value="Prefer not to say">Prefer not to say</option>
                    </select>
                </div>
            </div>
        </div>
        
        <div class="form-section">
            <div class="section-header">
                <svg class="section-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                </svg>
                <h2>Academic Information</h2>
            </div>
            
            <div class="form-group">
                <label for="education_level">Education Level <span class="required">*</span></label>
                <select id="education_level" name="education_level" required>
                    <option value="">Choose your level</option>
                    <option value="Diploma">Diploma</option>
                    <option value="UG">Undergraduate (UG)</option>
                    <option value="PG">Postgraduate (PG)</option>
                    <option value="PhD">PhD</option>
                </select>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="degree">Degree Name <span class="required">*</span></label>
                    <input type="text" id="degree" name="degree" placeholder="e.g. B.Tech, BSc, MBA" required>
                </div>
                
                <div class="form-group">
                    <label for="field_of_study">Field of Study <span class="required">*</span></label>
                    <input type="text" id="field_of_study" name="field_of_study" placeholder="e.g. Computer Science" required>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="year_of_study">Current Year <span class="required">*</span></label>
                    <select id="year_of_study" name="year_of_study" required>
                        <option value="">Select Year</option>
                        <option value="1">1st Year</option>
                        <option value="2">2nd Year</option>
                        <option value="3">3rd Year</option>
                        <option value="4">4th Year</option>
                        <option value="5">5th Year</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="institution_type">Institution Type <span class="required">*</span></label>
                    <select id="institution_type" name="institution_type" required>
                        <option value="">Select Type</option>
                        <option value="Government">Government</option>
                        <option value="Private">Private</option>
                        <option value="Autonomous">Autonomous</option>
                        <option value="Open">Open University</option>
                    </select>
                </div>
            </div>
        </div>
        
        <div class="form-section">
            <div class="section-header">
                <svg class="section-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path>
                </svg>
                <h2>Background & Access</h2>
            </div>
            <p class="field-help">Select all that apply to your current situation.</p>
            
            <div class="form-group">
                <div class="checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" name="background_indicators" value="First-generation">
                        <span>First-generation student</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" name="background_indicators" value="Financial support">
                        <span>Low-income household</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" name="background_indicators" value="Rural">
                        <span>Rural background</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" name="background_indicators" value="Disabled">
                        <span>Person with disabilities</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" name="background_indicators" value="Minority">
                        <span>Underrepresented minority</span>
                    </label>
                </div>
                <span class="error-message" id="background_indicators_error"></span>
            </div>
        </div>
        
        <div class="form-section">
            <div class="section-header">
                <svg class="section-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"></path>
                </svg>
                <h2>Goals</h2>
            </div>
            <p class="field-help">What kind of opportunities are you looking for? (Select multiple)</p>
            
            <div class="form-group">
                <div class="pill-group">
                    <label class="pill-label">
                        <input type="checkbox" name="opportunity_goals" value="Internships">
                        <span>Internships</span>
                    </label>
                    <label class="pill-label">
                        <input type="checkbox" name="opportunity_goals" value="Scholarships">
                        <span>Scholarships</span>
                    </label>
                    <label class="pill-label">
                        <input type="checkbox" name="opportunity_goals" value="Research">
                        <span>Research</span>
                    </label>
                    <label class="pill-label">
                        <input type="checkbox" name="opportunity_goals" value="Skills">
                        <span>Fellowships</span>
                    </label>
                    <label class="pill-label">
                        <input type="checkbox" name="opportunity_goals" value="Govt Exams">
                        <span>Mentorship</span>
                    </label>
                    <label class="pill-label">
                        <input type="checkbox" name="opportunity_goals" value="Skills">
                        <span>Competitions</span>
                    </label>
                    <label class="pill-label">
                        <input type="checkbox" name="opportunity_goals" value="Skills">
                        <span>Volunteering</span>
                    </label>
                    <label class="pill-label">
                        <input type="checkbox" name="opportunity_goals" value="Skills">
                        <span>Conferences</span>
                    </label>
                </div>
                <span class="error-message" id="opportunity_goals_error"></span>
            </div>
        </div>
        
        <div class="form-section">
            <div class="section-header">
                <svg class="section-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <h2>Missed opportunities before?</h2>
            </div>
            <p class="field-help">Do you feel you have missed out on academic or professional opportunities in the past because you didn't know about them in time?</p>
            
            <div class="form-group">
                <div class="radio-group">
                    <label class="radio-label">
                        <input type="radio" name="missed_opportunities_before" value="Yes many times">
                        <span>Yes, definitely</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="missed_opportunities_before" value="Once or twice">
                        <span>No, I'm well informed</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="missed_opportunities_before" value="No">
                        <span>Not sure</span>
                    </label>
                </div>
            </div>
        </div>
        
        <div class="form-section">
            <div class="section-header">
                <svg class="section-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path>
                </svg>
                <h2>Additional Context</h2>
            </div>
            <p class="field-help">Is there anything else Saarthi AI should know? Mention your specific interests, projects, or constraints here.</p>
            
            <div class="form-group">
                <textarea id="additional_context" name="additional_context" rows="4" placeholder="e.g. I am looking for summer internships in biotechnology and I can only work remotely..."></textarea>
            </div>
        </div>
        
        <div class="form-actions">
            <button type="submit" class="btn btn-primary" id="submitBtn">
                Analyze My Opportunities â†’
            </button>
        </div>
        
        <div class="form-footer">
            <div class="privacy-note">
                <svg class="privacy-icon" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M5.338 1.59a61.44 61.44 0 0 0-2.837.856.481.481 0 0 0-.328.39c-.554 4.157.726 7.19 2.253 9.188a10.725 10.725 0 0 0 2.287 2.233c.346.244.652.42.893.533.12.057.218.095.293.118a.55.55 0 0 0 .101.025.615.615 0 0 0 .1-.025c.076-.023.174-.061.294-.118.24-.113.547-.29.893-.533a10.726 10.726 0 0 0 2.287-2.233c1.527-1.997 2.807-5.031 2.253-9.188a.48.48 0 0 0-.328-.39c-.651-.213-1.75-.56-2.837-.855C9.552 1.29 8.531 1.067 8 1.067c-.53 0-1.552.223-2.662.524zM5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.775 11.775 0 0 1-2.517 2.453 7.159 7.159 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7.158 7.158 0 0 1-1.048-.625 11.777 11.777 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 62.456 62.456 0 0 1 5.072.56z"/>
                </svg>
                <span>Your data is secure and will only be used to personalize your opportunity recommendations. We prioritize your privacy and security.</span>
            </div>
        </div>
        
        <div id="errorContainer" class="error-container" style="display: none;">
            <h3>Please correct the following errors:</h3>
            <ul id="errorList"></ul>
        </div>
    </form>
    </div>
    
    <div id="loadingOverlay" class="loading-overlay" style="display: none;">
        <div class="loading-spinner">
            <div class="spinner"></div>
            <p>Analyzing your profile and discovering opportunities...</p>
        </div>
    </div>
</div>
{% endblock %}
